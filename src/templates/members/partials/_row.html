{# Single member row - can be swapped via HTMX after actions #}

<tr class="hover" id="member-row-{{ member.id }}">
    <!-- Checkbox -->
    <td>
        <label>
            <input type="checkbox" class="checkbox checkbox-sm" name="selected_members" value="{{ member.id }}" />
        </label>
    </td>

    <!-- Member Number -->
    <td>
        <span class="font-mono text-sm">{{ member.member_number or '-' }}</span>
    </td>

    <!-- Name -->
    <td>
        <div class="flex items-center gap-3">
            <div class="avatar placeholder">
                <div class="bg-neutral text-neutral-content rounded-full w-10">
                    <span class="text-sm">
                        {{ member.first_name[0] | upper if member.first_name else '?' }}{{ member.last_name[0] | upper if member.last_name else '' }}
                    </span>
                </div>
            </div>
            <div>
                <div class="font-bold">
                    {{ member.first_name or '' }} {{ member.last_name or '' }}
                </div>
                <div class="text-sm text-base-content/60">
                    {{ member.email or 'No email' }}
                </div>
            </div>
        </div>
    </td>

    <!-- Classification -->
    <td>
        {% if member.classification %}
        <span class="badge {{ get_classification_badge_class(member.classification) }} badge-sm">
            {{ format_classification(member.classification) }}
        </span>
        {% else %}
        <span class="badge badge-ghost badge-sm">Unclassified</span>
        {% endif %}
    </td>

    <!-- Status -->
    <td>
        <span class="badge {{ get_status_badge_class(member.status) }} gap-1">
            {% if member.status.value == 'active' %}
            <span class="w-2 h-2 rounded-full bg-current opacity-75"></span>
            {% endif %}
            {{ member.status.value | replace('_', ' ') | title }}
        </span>
    </td>

    <!-- Current Employer -->
    <td>
        {% if employer %}
        <div>
            <div class="font-medium text-sm">{{ employer.name }}</div>
            <div class="text-xs text-base-content/60">
                Since {{ employer.start_date.strftime('%b %Y') }}
            </div>
        </div>
        {% else %}
        <span class="text-base-content/40 text-sm">Not employed</span>
        {% endif %}
    </td>

    <!-- Dues Status -->
    <td>
        {# Simplified dues indicator - will be enhanced in detail page #}
        <div class="flex items-center gap-1">
            <span class="w-2 h-2 rounded-full bg-success"></span>
            <span class="text-xs text-success">Current</span>
        </div>
    </td>

    <!-- Actions -->
    <td>
        <div class="flex gap-1">
            <!-- View Detail -->
            <a href="/members/{{ member.id }}" class="btn btn-ghost btn-sm" title="View Details">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                </svg>
            </a>

            <!-- Quick Edit -->
            <button
                class="btn btn-ghost btn-sm"
                hx-get="/members/{{ member.id }}/edit"
                hx-target="#modal-content"
                hx-swap="innerHTML"
                onclick="document.getElementById('edit-modal').showModal()"
                title="Quick Edit"
            >
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
                </svg>
            </button>

            <!-- More Actions Dropdown -->
            <div class="dropdown dropdown-end">
                <label tabindex="0" class="btn btn-ghost btn-sm">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"/>
                    </svg>
                </label>
                <ul tabindex="0" class="dropdown-content z-[1] menu menu-sm p-2 shadow-lg bg-base-100 rounded-box w-48">
                    <li>
                        <a href="/members/{{ member.id }}">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                            </svg>
                            View Full Profile
                        </a>
                    </li>
                    <li>
                        <a href="/members/{{ member.id }}#employment">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                            </svg>
                            Employment History
                        </a>
                    </li>
                    <li>
                        <a href="/members/{{ member.id }}#dues">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                            Dues History
                        </a>
                    </li>
                    {% if member.status.value == 'active' %}
                    <div class="divider my-1"></div>
                    <li>
                        <button class="text-warning">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/>
                            </svg>
                            Mark Inactive
                        </button>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </td>
</tr>
